\chapter{\llvm syntax \& semantics}
\label{ch:llvm}

\textsc{\llvm syntax}
\section*{Types}
\begin{grammar}

<float> ::= "half" | "float" | "double" | "fp80" | "fp128"

<type> ::= "void" | "i"<sz> | <float> | <type>* | "[" <sz> $\times$ <type> "]"
    \alt { $<type>^n$ } | "id"

\end{grammar}

where $sz \in \mathbb{N}^+$ is a natural number.


\section*{Operations}
\begin{grammar}
<bop> ::= "add" | "sub" | "mul" | "udiv" | "sdiv" | "urem" | "srem" \alt
          "shl" | "lshr" | "ashr" | "and" | "or" | "xor"

<fbop> ::= "fadd" | "fsub" | "fmul" | "fdiv" | "frem"

<eop>  ::= "zext" | "sext" | "fpext"

<cop>  ::= "bitcast" | "ptrtoint" | "inttoptr" | "fptoui" | "fptosi" \alt
           "uitofp"  | "sitofp"

<trop> ::= "trunc" | "fptrunc"

<cond> ::= TODO cmp
\end{grammar}

\section*{Values}
\begin{grammar}
<cnst> ::= TODO

<val> ::= <id> | <cnst>

<glob> ::= "global" TODO | "define" TODO | "declare" TODO
\end{grammar}

\section*{Control Flow}
\begin{grammar}
<block> ::= TODO

<phi> ::= TODO

<cfl> ::= "br val l_1 l_2" | "br l" | "ret" TODO | "ret void" | "unreachable"
\end{grammar}

\section*{Commands}
\begin{grammar}
<cmd> ::= TODO
\end{grammar}

\add{ \llvm structured data is flattened to lists of basic values that indicate its
physical representation. }

